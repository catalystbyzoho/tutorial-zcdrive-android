<pre id="panel" {{ with .Get "scroll" }} class="{{.}} panel-select-block" {{end}} class="panel-select-block">
    <div class="code-block-header">
		{{- with .Get "header" -}}
		<div class="panel-header">
			{{- htmlUnescape . | markdownify -}}
		</div>
		{{- end -}}
        <div class="right-header-panel">
			<div class="customselect panel-select">
				<select class="custom-select"></select>
			</div>
			<div class="spliter"></div>
            <div class="copytoclipboard" onclick="copyToClipboard(this)">copy</div>
            <div class="show-flex" onclick="clickHandler(this)">
                <input name="theme-switch" style="opacity: 0;" type="checkbox" >
                <div class="theme-icon">
                    <div name="icontheme" class="code-light-icon"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel-body">
        <code {{ with .Get "lang" }} class="{{.}}" {{end}}></code>
    </div>
</pre>
<div {{ with .Get "id" }} id="{{.}}" {{end}} class="select-panel hide" >{{.Inner}}</div>

<script>
	var s = document.querySelectorAll(".panel-select-block");
	for(var i=0;i<s.length;i++){
		var put_text = s[i].querySelector('.panel-body code');
		if(put_text.innerHTML.length == 0){
			var opt = s[i].querySelector('select.custom-select');
			var id_value = s[i].nextElementSibling.children[0].getAttribute("id");
			var get_text = s[i].nextElementSibling.querySelector(`.select-panel #${id_value} code`).innerHTML;
			put_text.innerHTML=get_text;

			var l,j,node,select_block = s[i].nextElementSibling.children;
			for(j=0;j<select_block.length;j++){
				l = select_block[j].getAttribute("id");
				node = document.createElement("option");
				if(j == 0){
					node.setAttribute("selected",true);
				}
				node.setAttribute("value",l);
				node.innerText = l;
				s[i].querySelector(".custom-select").appendChild(node);
			}
		}
	}
	function panelSelect(e){
		var ele = e.closest("pre");
		var opt = ele.querySelector('select.custom-select');
		var id_value = opt.value;
		var get_text = ele.nextElementSibling.querySelector(`.select-panel #${id_value} code`).innerHTML;
		var put_text = ele.querySelector('.panel-body code');
		put_text.innerHTML=get_text;
	}
</script>
