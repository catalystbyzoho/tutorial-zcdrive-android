<style>
  .tutorial-filter{
    background-color: var(--menu-color); 
    font: 14px/17px zoho-puvi-regular; 
    padding-left: 8px;         
    outline: none !important; 
    box-shadow: 0 0 0 0 !important;
    border-color: var(--hr-color);
  }
  .customselect {
      position: relative;
      background-color: var(--menu-color);
      color: var(--font-menu-color);
      border-radius: 5px;
      border: 1px solid var(--hr-color);
    }
    .customselect select {
      display: none;
    }
    .select-selected {
        background-color: var(--menu-color);
        color: var(--font-menu-color);
    }
    .select-selected:after {
      position: absolute;
      content: "";
      top: 16px;
      right: 10px;
      width: 0;
      height: 0;
      border: 4px solid transparent;
      border-color: var(--font-menu-color) transparent transparent transparent;
    }
    .select-selected.select-arrow-active:after {
      border-color: transparent transparent var(--font-menu-color) transparent;
      top: 12px;
    }
    .select-items div {
      padding: 4px 0 0 10px;
      border: 1px solid transparent;
      cursor: pointer;
    }
    .select-selected {
      padding: 4px 30px 0 10px;
      border: 1px solid transparent;
      cursor: pointer;
    }
    .select-items {
      position: absolute;
      background-color: var(--menu-color);
      color: var(--font-menu-color);
      border: 1px solid var(--hr-color);
      margin-top: 2px;
      top: 100%;
      left: 0;
      right: 0;
      z-index: 99;
    }
    .select-hide {
      display: none;
    }
    .select-items div:hover, .same-as-selected {
      background-color: var(--body-color);
      color: var(--font-body-color);
    }
</style>
<!-- feature -->
{{ with .Params.feature }}
{{ if .enable }}

<section style="margin:100px 0 0 0;">

  <div class="container" style="background-color: var(--body-color);">

  <div style="width: 100%; margin: 0 auto; display: flex; padding-bottom: 20px; border-bottom: 1px solid var(--hr-color); margin-bottom: 40px;">
    <div class="searchbox" style="float: left; display: flex; height: 44px!important;">
      <div class="search-icon"></div>
      <input class="src-input" style="padding: 0px;" name="query" placeholder="Search Topics & Tutorials" type="text">
    </div>
    <div style="display: flex; margin-left: auto;">
      <div class="customselect" style="width: 130px; height: 36px; margin-left: 40px; margin-top: 10px;">
        <select class="custom-select tutorial-filter">
            <option value="AllLevels" selected>All Levels</option>
            <option value="Beginner">Beginner</option>
            <option value="Intermediate">Intermediate</option>
            <option value="Hard">Hard</option>
        </select>
      </div>
      <div class="customselect" style="width: 150px; height: 36px; margin-left: 40px; margin-top: 10px;">
        <select class="custom-select tutorial-filter">
            <option value="AllLanguages" selected>All Languages</option>
            <option value="Java">Java</option>
            <option value="NodeJS">Node JS</option>
            <option value="Python">Python</option>
        </select>
      </div>
      <div class="customselect" style="width: 140px; height: 36px; margin-left: 40px; margin-top: 10px;">
        <select class="custom-select tutorial-filter">
            <option value="AllDurations" selected>All Durations</option>
            <option value="forty-mins">40 mins</option>
            <option value="fortyfive-mins">45 mins</option>
            <option value="sixty-mins">60 mins</option>
        </select>
      </div>
    </div>
  </div>

  <div class="row justify-content-left" style="margin-left: 0px;">
    {{ range .feature_item }}
    <div 
      class="filterContent {{.level}} {{.duration}} {{.language1}} {{.language2}} {{.language3}}" 
      url="{{.url}}" 
      level="{{.level}}"
      duration="{{.duration}}"
      name="{{.name}}"
      content="{{.content}}" 
      language1="{{.language1}}"
      language2="{{.language2}}"
      language3="{{.language3}}"
     >
    </div>
    {{ end }}
    <div class="row justify-content-left" id="demo"></div>
    <div class="row justify-content-center" id="demo1" style="margin-left: auto; margin-right: auto;"></div>
  </div>
  </div>

</section>
{{ end }}
{{ end }}
<!-- /feature -->

<script>

  var x, i, j, selElmnt, a, b, c;
  x = document.getElementsByClassName("customselect");
  for (i = 0; i < x.length; i++) {
    selElmnt = x[i].getElementsByTagName("select")[0];
    a = document.createElement("DIV");
    a.setAttribute("class", "select-selected");
    a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
    x[i].appendChild(a);
    b = document.createElement("DIV");
    b.setAttribute("class", "select-items select-hide");
    for (j = 0; j < selElmnt.length; j++) {
      c = document.createElement("DIV");
      c.innerHTML = selElmnt.options[j].innerHTML;
      c.addEventListener("click", function(e) {
          var y, i, k, s, h;
          s = this.parentNode.parentNode.getElementsByTagName("select")[0];
          h = this.parentNode.previousSibling;
          for (i = 0; i < s.length; i++) {
            if (s.options[i].innerHTML == this.innerHTML) {s
              s.selectedIndex = i;
              h.innerHTML = this.innerHTML;
              y = this.parentNode.getElementsByClassName("same-as-selected");
              for (k = 0; k < y.length; k++) {
                y[k].removeAttribute("class");
              }
              this.setAttribute("class", "same-as-selected");
              break;
            }
          }
          h.click();
          filterContent();
      });
      b.appendChild(c);
    }
    x[i].appendChild(b);
    a.addEventListener("click", function(e) {
        e.stopPropagation();
        closeAllSelect(this);
        this.nextSibling.classList.toggle("select-hide");
        this.classList.toggle("select-arrow-active");
    });
  }
  function closeAllSelect(elmnt) {
    var x, y, i, arrNo = [];
    x = document.getElementsByClassName("select-items");
    y = document.getElementsByClassName("select-selected");
    for (i = 0; i < y.length; i++) {
      if (elmnt == y[i]) {
        arrNo.push(i)
      } else {
        y[i].classList.remove("select-arrow-active");
      }
    }
    for (i = 0; i < x.length; i++) {
      if (arrNo.indexOf(i)) {
        x[i].classList.add("select-hide");
      }
    }
  }
  document.addEventListener("click", closeAllSelect);


  var initialLoading = function(){
    filterContent();
  }();
  function filterContent(){
    document.getElementById("demo").innerHTML="";
    document.getElementById("demo1").innerHTML="";
    var a = document.querySelectorAll("select.custom-select");
    var level = a[0].value;
    var language = a[1].value;
    var duration = a[2].value;

    if(level == "AllLevels" && language =="AllLanguages" && duration == "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent`);
    }
    else if(level != "AllLevels" && language =="AllLanguages" && duration == "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${level}`);
    }
    else if(level == "AllLevels" && language !="AllLanguages" && duration == "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${language}`);
    }
    else if(level == "AllLevels" && language =="AllLanguages" && duration != "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${duration}`);
    }
    else if(level != "AllLevels" && language !="AllLanguages" && duration == "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${level}.${language}`);
    }
    else if(level == "AllLevels" && language !="AllLanguages" && duration != "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${language}.${duration}`);
    }
    else if(level != "AllLevels" && language =="AllLanguages" && duration != "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${level}.${duration}`);
    }
    else if(level != "AllLevels" && language !="AllLanguages" && duration != "AllDurations"){
      var showableContent = document.querySelectorAll(`.filterContent.${level}.${language}.${duration}`);
    }
    if(showableContent.length == 0){
      document.getElementById("demo1").innerHTML = `<p style="margin: auto;">No Tutorial is available for this filter</p> `;
    }
    else{
      for(var i=0;i<=showableContent.length;i++){
          var url = showableContent[i].getAttribute("url");
          var time = showableContent[i].getAttribute("duration");
          if(time == "forty-mins"){
            time = "40 mins";
          }
          if(time == "fortyfive-mins"){
            time = "45 mins";
          }
          if(time == "sixty-mins"){
            time = "60 mins";
          }
          var node = document.createElement("div");
          
          node.innerHTML = `
          <div class="col-md-4 col-sm-6 mb-4" style="padding-left:5px; margin-bottom: 18px !important;">
            <a href=${url}>
              <div class="feature-card feature">
                <div style="display: flex;">
                  <p style="background-color: var(--menu-color); color:var(--font-menu-color); padding:5px; margin-right:10px; font-size: 12px; text-transform: uppercase;">${showableContent[i].getAttribute("level")}</p>
                  <p style="background-color: var(--menu-color); color:var(--font-menu-color); padding:5px; margin-right:10px; font-size: 12px; text-transform: uppercase;">${time}</p>
                </div>
                  <p class="mb-2 feature-h" style="font: normal normal 24px/28px zoho-puvi-medium;">${showableContent[i].getAttribute("name")}</p>
                  <p class="feature-p">${showableContent[i].getAttribute("content")}</p>
                  <p style="color: var(--font-blue-color); font-size: 13px; word-spacing: 10px;">
                    ${showableContent[i].getAttribute("language1")}
                    ${showableContent[i].getAttribute("language2")}
                    ${showableContent[i].getAttribute("language3")}
                  </p>
              </div>
            </a>
          </div>`;
          document.getElementById("demo").appendChild(node);
      }
    }
  }
</script>